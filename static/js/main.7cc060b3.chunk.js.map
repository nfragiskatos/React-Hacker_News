{"version":3,"sources":["reducer.js","actions.js","context.js","SearchForm.js","Stories.js","Buttons.js","App.js","index.js"],"names":["reducer","state","action","type","isLoading","hits","payload","nbPages","filter","story","objectID","query","page","nextPage","Error","initialState","AppContext","React","createContext","AppProvider","children","useReducer","dispatch","fetchStories","url","a","fetch","response","json","data","console","log","useEffect","Provider","value","removeStory","id","handleSearch","handlePage","useGlobalContext","useContext","SearchForm","className","onSubmit","e","preventDefault","onChange","target","Stories","map","title","num_comments","points","author","key","rel","href","onClick","Buttons","disabled","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNA6BeA,EA3BC,SAACC,EAAOC,GACvB,OAAQA,EAAOC,MACd,ICJyB,cDKxB,OAAO,2BAAKF,GAAZ,IAAmBG,WAAW,IAE/B,ICNyB,cDOxB,OAAO,2BAAKH,GAAZ,IAAmBG,WAAW,EAAOC,KAAMH,EAAOI,QAAQD,KAAME,QAASL,EAAOI,QAAQC,UACzF,ICP0B,eDQzB,OAAO,2BAAKN,GAAZ,IAAmBI,KAAMJ,EAAMI,KAAKG,QAAO,SAACC,GAAD,OAAWA,EAAMC,WAAaR,EAAOI,aAEjF,ICR2B,gBDS1B,OAAO,2BAAKL,GAAZ,IAAmBU,MAAOT,EAAOI,QAASM,KAAM,IAEjD,ICZyB,cDaxB,IAAIC,EAAW,EAMf,OAJCA,EADsB,QAAnBX,EAAOI,QACCL,EAAMW,KAAOX,EAAMM,QAAU,EAAIN,EAAMW,KAAO,EAAIC,EAEnC,IAAfZ,EAAMW,KAAaX,EAAMM,QAAU,EAAIN,EAAMW,KAAO,EAEzD,2BAAKX,GAAZ,IAAmBW,KAAMC,IAE1B,QACC,MAAM,IAAIC,MAAJ,sBAAyBZ,EAAOC,KAAhC,cElBHY,EAAe,CACpBX,WAAW,EACXC,KAAM,GACNM,MAAO,QACPC,KAAM,EACNL,QAAS,GAGJS,EAAaC,IAAMC,gBAEnBC,EAAc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACXC,qBAAWrB,EAASe,GADT,mBAC9Bd,EAD8B,KACvBqB,EADuB,KAe/BC,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACpBH,EAAS,CAAEnB,KDjCc,gBCgCL,kBAIIuB,MAAMF,GAJV,cAIbG,EAJa,gBAKAA,EAASC,OALT,OAKbC,EALa,OAOnBP,EAAS,CAAEnB,KDtCa,cCsCMG,QAAS,CAAED,KAAMwB,EAAKxB,KAAME,QAASsB,EAAKtB,WAPrD,kDASnBuB,QAAQC,IAAR,MATmB,0DAAH,sDAiBlB,OAJAC,qBAAU,WACTT,EAAa,GAAD,OAzCO,wCAyCP,iBAAyBtB,EAAMU,MAA/B,iBAA6CV,EAAMW,SAC7D,CAACX,EAAMU,MAAOV,EAAMW,OAGtB,kBAACI,EAAWiB,SAAZ,CAAqBC,MAAK,2BAAOjC,GAAP,IAAckC,YA9BrB,SAACC,GACpBd,EAAS,CAAEnB,KDnBe,eCmBKG,QAAS8B,KA6BaC,aA1BjC,SAAC1B,GACrBW,EAAS,CAAEnB,KDrBgB,gBCqBKG,QAASK,KAyB0B2B,WAtBjD,SAACJ,GACnBZ,EAAS,CAAEnB,KD1Bc,cC0BKG,QAAS4B,QAsBrCd,IAKSmB,EAAmB,WAC/B,OAAOC,qBAAWxB,IC3CJyB,EAXI,WAAO,IAAD,EACQF,IAAxB5B,EADgB,EAChBA,MAAO0B,EADS,EACTA,aAEf,OACC,0BAAMK,UAAU,cAAcC,SAAU,SAACC,GAAD,OAAOA,EAAEC,mBAChD,kDACA,2BAAO1C,KAAK,OAAOuC,UAAU,aAAaR,MAAOvB,EAAOmC,SAAU,SAACF,GAAD,OAAOP,EAAaO,EAAEG,OAAOb,YC0BnFc,EA/BC,WAAO,IAAD,EACoBT,IAAjCnC,EADa,EACbA,UAAWC,EADE,EACFA,KAAM8B,EADJ,EACIA,YAEzB,OAAI/B,EACI,yBAAKsC,UAAU,YAGtB,6BAASA,UAAU,WACjBrC,EAAK4C,KAAI,SAACxC,GAAW,IACH2B,EAAiD3B,EAA3DC,SAAcwC,EAA6CzC,EAA7CyC,MAAOC,EAAsC1C,EAAtC0C,aAAc3B,EAAwBf,EAAxBe,IAAK4B,EAAmB3C,EAAnB2C,OAAQC,EAAW5C,EAAX4C,OACxD,OACC,6BAASC,IAAKlB,EAAIM,UAAU,SAC3B,wBAAIA,UAAU,SAASQ,GACvB,uBAAGR,UAAU,QACXU,EADF,cACoB,8BAAOC,EAAP,OADpB,IAC8CF,EAD9C,aAGA,6BACC,uBAAGT,UAAU,YAAYK,OAAO,SAASQ,IAAI,sBAAsBC,KAAMhC,GAAzE,aAGA,4BAAQiC,QAAS,kBAAMtB,EAAYC,IAAKM,UAAU,cAAlD,iBCHQgB,EAlBC,WAAO,IAAD,EAC4BnB,IAAzCnC,EADa,EACbA,UAAWQ,EADE,EACFA,KAAML,EADJ,EACIA,QAAS+B,EADb,EACaA,WAElC,OACC,yBAAKI,UAAU,iBACd,4BAAQiB,SAAUvD,EAAWqD,QAAS,kBAAMnB,EAAW,SAAvD,QAGA,2BACE1B,EAAO,EADT,OACgBL,GAEhB,4BAAQoD,SAAUvD,EAAWqD,QAAS,kBAAMnB,EAAW,SAAvD,UCAYsB,MAVf,WACC,OACC,oCACC,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCJHC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,KACE,kBAAC,EAAD,QAGJC,SAASC,eAAe,U","file":"static/js/main.7cc060b3.chunk.js","sourcesContent":["import { SET_LOADING, SET_STORIES, REMOVE_STORY, HANDLE_PAGE, HANDLE_SEARCH } from './actions';\n\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase SET_LOADING:\n\t\t\treturn { ...state, isLoading: true };\n\n\t\tcase SET_STORIES:\n\t\t\treturn { ...state, isLoading: false, hits: action.payload.hits, nbPages: action.payload.nbPages };\n\t\tcase REMOVE_STORY:\n\t\t\treturn { ...state, hits: state.hits.filter((story) => story.objectID !== action.payload) };\n\n\t\tcase HANDLE_SEARCH:\n\t\t\treturn { ...state, query: action.payload, page: 0 };\n\n\t\tcase HANDLE_PAGE:\n\t\t\tlet nextPage = 0;\n\t\t\tif (action.payload === 'inc') {\n\t\t\t\tnextPage = state.page < state.nbPages - 1 ? state.page + 1 : nextPage;\n\t\t\t} else {\n\t\t\t\tnextPage = state.page === 0 ? state.nbPages - 1 : state.page - 1;\n\t\t\t}\n\t\t\treturn { ...state, page: nextPage };\n\n\t\tdefault:\n\t\t\tthrow new Error(`no matching ${action.type} action`);\n\t\t\tbreak;\n\t}\n};\nexport default reducer;\n","export const SET_LOADING = 'SET_LOADING'\nexport const SET_STORIES = 'SET_STORIES'\nexport const REMOVE_STORY = 'REMOVE_STORY'\nexport const HANDLE_PAGE = 'HANDLE_PAGE'\nexport const HANDLE_SEARCH = 'HANDLE_SEARCH'\n","import React, { useContext, useEffect, useReducer } from 'react';\n\nimport { SET_LOADING, SET_STORIES, REMOVE_STORY, HANDLE_PAGE, HANDLE_SEARCH } from './actions';\nimport reducer from './reducer';\n\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?';\n\nconst initialState = {\n\tisLoading: true,\n\thits: [],\n\tquery: 'react',\n\tpage: 0,\n\tnbPages: 0\n};\n\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\n\tconst removeStory = (id) => {\n\t\tdispatch({ type: REMOVE_STORY, payload: id });\n\t};\n\n\tconst handleSearch = (query) => {\n\t\tdispatch({ type: HANDLE_SEARCH, payload: query });\n\t};\n\n\tconst handlePage = (value) => {\n\t\tdispatch({ type: HANDLE_PAGE, payload: value });\n\t};\n\n\tconst fetchStories = async (url) => {\n\t\tdispatch({ type: SET_LOADING });\n\n\t\ttry {\n\t\t\tconst response = await fetch(url);\n\t\t\tconst data = await response.json();\n\n\t\t\tdispatch({ type: SET_STORIES, payload: { hits: data.hits, nbPages: data.nbPages } });\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchStories(`${API_ENDPOINT}query=${state.query}&page=${state.page}`);\n\t}, [state.query, state.page]);\n\n\treturn (\n\t\t<AppContext.Provider value={{ ...state, removeStory, handleSearch, handlePage }}>\n\t\t\t{children}\n\t\t</AppContext.Provider>\n\t);\n};\n// make sure use\nexport const useGlobalContext = () => {\n\treturn useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import React from 'react';\nimport { useGlobalContext } from './context';\n\nconst SearchForm = () => {\n\tconst { query, handleSearch } = useGlobalContext();\n\n\treturn (\n\t\t<form className=\"search-form\" onSubmit={(e) => e.preventDefault()}>\n\t\t\t<h2>search hacker news</h2>\n\t\t\t<input type=\"text\" className=\"form-input\" value={query} onChange={(e) => handleSearch(e.target.value)} />\n\t\t</form>\n\t);\n};\n\nexport default SearchForm;\n","import React from 'react';\n\nimport { useGlobalContext } from './context';\n\nconst Stories = () => {\n\tconst { isLoading, hits, removeStory } = useGlobalContext();\n\n\tif (isLoading) {\n\t\treturn <div className=\"loading\"></div>;\n\t}\n\treturn (\n\t\t<section className=\"stories\">\n\t\t\t{hits.map((story) => {\n\t\t\t\tconst { objectID: id, title, num_comments, url, points, author } = story;\n\t\t\t\treturn (\n\t\t\t\t\t<article key={id} className=\"story\">\n\t\t\t\t\t\t<h4 className=\"title\">{title}</h4>\n\t\t\t\t\t\t<p className=\"info\">\n\t\t\t\t\t\t\t{points} points by <span>{author} | </span> {num_comments} comments\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<a className=\"read-link\" target=\"_blank\" rel=\"noopener noreferrer\" href={url}>\n\t\t\t\t\t\t\t\tread more\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<button onClick={() => removeStory(id)} className=\"remove-btn\">\n\t\t\t\t\t\t\t\tremove\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t);\n\t\t\t})}\n\t\t</section>\n\t);\n};\n\nexport default Stories;\n","import React from 'react';\nimport { useGlobalContext } from './context';\n\nconst Buttons = () => {\n\tconst { isLoading, page, nbPages, handlePage } = useGlobalContext();\n\n\treturn (\n\t\t<div className=\"btn-container\">\n\t\t\t<button disabled={isLoading} onClick={() => handlePage('dec')}>\n\t\t\t\tprev\n\t\t\t</button>\n\t\t\t<p>\n\t\t\t\t{page + 1} of {nbPages}\n\t\t\t</p>\n\t\t\t<button disabled={isLoading} onClick={() => handlePage('inc')}>\n\t\t\t\tnext\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default Buttons;\n","import React from 'react';\nimport SearchForm from './SearchForm';\nimport Stories from './Stories';\nimport Buttons from './Buttons';\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<SearchForm />\n\t\t\t<Buttons />\n\t\t\t<Stories />\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { AppProvider } from './context'\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}